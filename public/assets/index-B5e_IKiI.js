(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const u={VITE_PRODUCTION_WEB_SOCKET_URL:"wss://led-sockets.mattemrick.com/ws/"},{VITE_PRODUCTION_WEB_SOCKET_URL:l}=u,f=l;let c=!1;function d(s,n,o,t){c=s,n.checked=c,c?o.innerText=t||"The light and buzzer are on.  If I'm around it's annoying me.":o.innerText=t||""}function a(s,n,o,t){s.addEventListener("click",()=>{const e=JSON.stringify({blue:c?"off":"on"});n.send(e),d(!c,o,t)})}function m(s,n,o){s.addEventListener("message",({data:t})=>{const e=JSON.parse(t);console.log(`Message received:${t}`),e&&"blue"in e&&(e.blue==="on"?d(!0,n,o):e.blue==="off"&&d(!1,n,o,c?"I turned it off":""))})}document.addEventListener("DOMContentLoaded",()=>{const s=new WebSocket(f),n=document.getElementById("button"),o=document.getElementById("checkbox"),t=document.getElementById("message-container");a(n,s,o,t),m(s,o,t)});
